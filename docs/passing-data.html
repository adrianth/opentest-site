<!DOCTYPE html><html lang=""><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Passing data between test steps - OpenTest</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/asciidoctor.css" rel="stylesheet"><link href="/css/italian-pop.css" rel="stylesheet"><link href="/css/pygments.css" rel="stylesheet"><link href="/css/style.css" rel="stylesheet"><link href="/css/slick.css" rel="stylesheet"><link href="/css/menu.css" rel="stylesheet"><link href="/css/home.css" rel="stylesheet"><link href="/css/footer.css" rel="stylesheet"><link rel="stylesheet" href="/css/document.css" media="screen" type="text/css"><link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Pragati+Narrow" rel="stylesheet"> <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script> <script> (function(h,o,t,j,a,r){ h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)}; h._hjSettings={hjid:840051,hjsv:6}; a=o.getElementsByTagName('head')[0]; r=o.createElement('script');r.async=1; r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv; a.appendChild(r); })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv='); </script><meta name="keywords" content="opentest, data"></head><body><div id="menu-wrapper"><div class="container"><div class="row"><nav class="navbar main-menu" role="navigation"><div class="navbar-header"> <a class="navbar-brand" href="/"> <img src="/img/common/opentest.svg" /> OpenTest </a> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button></div><div class="collapse navbar-collapse" id="bs-navbar-collapse-1"><ul class="nav navbar-nav navbar-right scrollable-menu"><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Docs <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/docs/installation.html">Installation</a></li><li><a href="/docs/architecture.html">Architecture</a></li><li><a href="/docs/test-structure.html">Test structure</a></li><li><a href="/docs/test-action-types.html">Test action types</a></li><li><a href="/docs/test-data.html">Working with test data</a></li><li><a href="/docs/passing-data.html">Passing data between test steps</a></li><li><a href="/docs/scripting-support.html">Scripting support</a></li><li><a href="/docs/data-driven-testing.html">Data-driven testing</a></li><li><a href="/docs/environments.html">Execution environments</a></li><li><a href="/docs/more.html">More...</a></li></ul></li><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Reference <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/reference/selenium-keywords.html">Selenium keywords</a></li><li><a href="/reference/appium-keywords.html">Appium keywords</a></li><li><a href="/reference/generic-keywords.html">Generic keywords</a></li><li><a href="/reference/javascript-api.html">JavaScript API</a></li><li><a href="/reference/yaml-primer.html">YAML primer</a></li></ul></li><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Tutorials <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/tutorials/selenium-testing.html">Web testing</a></li><li><a href="/tutorials/appium-testing.html">Mobile testing</a></li><li><a href="/tutorials/api-testing.html">REST API testing</a></li></ul></li></ul></div></nav></div></div></div><div class="clearfix"></div><div class="main-content"><div class="page-content"><div class="container"><div class="row"><div class="col-md-3 hidden-sm hidden-xs" id="toc-col"><div id="docs-toc"><h3>Docs</h3><ul class="dropdown-menu1"><li><a href="/docs/installation.html">Installation</a></li><li><a href="/docs/architecture.html">Architecture</a></li><li><a href="/docs/test-structure.html">Test structure</a></li><li><a href="/docs/test-action-types.html">Test action types</a></li><li><a href="/docs/test-data.html">Working with test data</a></li><li><a href="/docs/passing-data.html">Passing data between<br>test steps </a></li><li><a href="/docs/scripting-support.html">Scripting support</a></li><li><a href="/docs/data-driven-testing.html">Data-driven testing</a></li><li><a href="/docs/environments.html">Execution environments</a></li><li><a href="/docs/more.html">More...</a></li></ul><h3>Reference</h3><ul class="dropdown-menu1"><li><a href="/reference/selenium-keywords.html">Selenium keywords</a></li><li><a href="/reference/appium-keywords.html">Appium keywords</a></li><li><a href="/reference/generic-keywords.html">Generic keywords</a></li><li><a href="/reference/javascript-api.html">JavaScript API</a></li><li><a href="/reference/yaml-primer.html">YAML primer</a></li></ul><h3>Tutorials</h3><ul class="dropdown-menu1"><li><a href="/tutorials/selenium-testing.html">Web testing</a></li><li><a href="/tutorials/appium-testing.html">Mobile testing</a></li><li><a href="/tutorials/api-testing.html">REST API testing</a></li></ul></div></div><div class="col-md-9"><h1>Passing data between test steps</h1><div class="toc-container"> <span class="toc-heading">Contents</span><ul class="sectlevel1"><li><a href="#local-data-localdata">Local data ($localData)</a></li><li><a href="#shared-data-shareddata">Shared data ($sharedData)</a></li><li><a href="#session-data-sessiondata">Session data ($sessionData)</a></li></ul></div><hr><div class="paragraph"><p>Most real world test automation scenarios require transferring data values between test steps (e.g. reading the order number generated by an API call and using it in the next step to validate the status of the order). OpenTest provides three techniques to achieve this:</p></div><div class="ulist"><ul><li><p>The <strong>local data store</strong>, used when the data needs to be accessible only to test steps executed by the same test actor.</p></li><li><p>The <strong>shared data store</strong>, used when the data needs to be accessible across multiple test actors participating in a distributed test.</p></li><li><p>The <strong>session data store</strong>, used when the data needs to be accessible across multiple test actors and multiple tests executing as part of the same test session.</p></li></ul></div><div class="sect1"><h2 id="local-data-localdata">Local data ($localData)</h2><div class="sectionbody"><div class="paragraph"><p>When a data value is only going to be needed in subsequent test actions running on the same test actor, the best technique to use is the local data store. This technique doesn&#8217;t incur any network traffic so it&#8217;s really fast. You can think of the local data store as a simple in-memory hash map (which is exactly what it is) that you can add properties to, so that you can retrieve them later and use them as arguments for a subsequent test action.</p></div><div class="paragraph"><p>There are two ways to access the data values in the local data store:</p></div><div class="ulist"><ul><li><p>The <code>$localData</code> global test action argument. This argument can be specified for any regular test action or macro action. The value passed to this argument must be an object that contains one or more key-value pairs specifying the properties to write to the local data store. Here&#8217;s an example of how we can write a property called "username" with the value that was outputted from a ReadElementText action:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
    <span class="tok-no">Read the username and write it to the &quot;username&quot; local</span>
    <span class="tok-no">data property</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">action</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">org.getopentest.selenium.ReadElementText</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">locator</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">{</span><span class="tok-nv">css</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-nv">p.username</span><span class="tok-p tok-p-Indicator">}</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$localData</span><span class="tok-p tok-p-Indicator">:</span>
        <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">username</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$readOutput(&quot;text&quot;)</span>

<span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Write the username into the &quot;username&quot; text box</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">action</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">org.getopentest.selenium.SendKeys</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">locator</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">{</span><span class="tok-nv">css</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-s">&quot;input[name=&#39;username&#39;]&quot;</span><span class="tok-p tok-p-Indicator">}</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">text</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$localData(&quot;username&quot;)</span></code></pre></div></div></li><li><p>The <code>$localData</code> JavaScript function. The function can be called with one parameter to read a local data property, or with two parameters to write the value of a local data property. It has the syntax <code>$localData(propName, [propValue])</code>. Example:</p><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
    <span class="tok-no">// Write the &quot;username&quot; property to local data</span>
    <span class="tok-no">$localData(&quot;username&quot;, &quot;john_doe&quot;);</span>

    <span class="tok-no">// Read the username and log it</span>
    <span class="tok-no">$log(&quot;The username is &quot; + $localData(&quot;username&quot;));</span></code></pre></div></div></li></ul></div></div></div><div class="sect1"><h2 id="shared-data-shareddata">Shared data ($sharedData)</h2><div class="sectionbody"><div class="paragraph"><p>Ideally, a test should only make use of the local data store. However, when multiple test actors that participate in the same test need to share data with each other (and they typically do), you must use the shared data store technique instead. This works in a similar way with the local data store, but incurs a small performance penalty due to the additional network traffic it generates: the data is first sent to the sync service by the actor that is writing the data property; later on, it is requested from the sync service by the actor that needs to make use of it. Please make sure to only use the shared data store when you need to transfer data across actors, and use local data for all other needs. Just like with local data, there are two ways to acces the shared data store:</p></div><div class="ulist"><ul><li><p>The <code>$sharedData</code> global test action argument. This argument can be specified for any regular test action or macro action. The value passed to this argument must be an object that contains one or more key-value pairs specifying the properties to write to the shared data store. Here&#8217;s an example of how we can write a property called "username" with the value that was outputted from a ReadElementText action:</p><div class="listingblock"><div class="title">ACTOR 1</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
    <span class="tok-no">Read the username and write it to the &quot;username&quot; shared</span>
    <span class="tok-no">data property</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">action</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">org.getopentest.selenium.ReadElementText</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">locator</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">{</span><span class="tok-nv">css</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-nv">p.username</span><span class="tok-p tok-p-Indicator">}</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$sharedData</span><span class="tok-p tok-p-Indicator">:</span>
        <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">username</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$readOutput(&quot;text&quot;)</span></code></pre></div></div><div class="listingblock"><div class="title">ACTOR 2</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Write the username into the &quot;username&quot; text box</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">action</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">org.getopentest.selenium.SendKeys</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">locator</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">{</span><span class="tok-nv">css</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-s">&quot;input[name=&#39;username&#39;]&quot;</span><span class="tok-p tok-p-Indicator">}</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">text</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$sharedData(&quot;username&quot;)</span></code></pre></div></div></li><li><p>The <code>$sharedData</code> JavaScript function. The function can be called with one parameter to read a local data property, or with two parameters to write the value of a local data property. It has the syntax <code>$sharedData(propName, [propValue])</code>. Example:</p><div class="listingblock"><div class="title">ACTOR 1</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
    <span class="tok-no">// Write the &quot;username&quot; property to shared data</span>
    <span class="tok-no">$sharedData(&quot;username&quot;, &quot;john_doe&quot;);</span></code></pre></div></div><div class="listingblock"><div class="title">ACTOR 2</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
    <span class="tok-no">// Read the username and log it</span>
    <span class="tok-no">$log(&quot;The username is &quot; + $sharedData(&quot;username&quot;));</span></code></pre></div></div></li></ul></div></div></div><div class="sect1"><h2 id="session-data-sessiondata">Session data ($sessionData)</h2><div class="sectionbody"><div class="paragraph"><p>The session data store helps with sharing data between multiple tests in the same test session. Using the session data store creates dependencies between tests, which can be very hard to manage and control, so, as a best practice, avoid using it at all costs. Troubleshooting failed tests that use <code>$sessionData</code> is much more difficult, since you not only need to understand what happened in the test that failed, but also in all the other tests that executed before it in the same session. The syntax for working with the session data store is similar with the local and shared data stores, but using the <code>$sessionData</code> global action argument and the <code>$sessionData</code> JavaScript function.</p></div></div></div><br><div id="disqus_thread"></div><script> (function() { var d = document, s = d.createElement('script'); s.src = 'https://getopentest.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></div></div><footer><div class="container"><div class="row"><div class="col-sm-12"> <a href="#"><i class="fab fa-github"></i> GitHub</a>&nbsp; &nbsp;|&nbsp;&nbsp; <a href="https://github.com/mcdcorp/opentest/blob/master/LICENSE">MIT license</a></div></div></div></footer><script src="/js/jquery-2.2.4.min.js"></script> <script src="/js/side-toc.js"></script> <script src="/js/bootstrap.min.js"></script> <script src="/js/slick.min.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-73340843-6"></script> <script defer src="/js/analytics.js"></script></body></html>
