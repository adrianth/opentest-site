<!DOCTYPE html><html lang=""><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Data-driven testing - OpenTest</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/asciidoctor.css" rel="stylesheet"><link href="/css/italian-pop.css" rel="stylesheet"><link href="/css/pygments.css" rel="stylesheet"><link href="/css/style.css" rel="stylesheet"><link href="/css/slick.css" rel="stylesheet"><link href="/css/menu.css" rel="stylesheet"><link href="/css/home.css" rel="stylesheet"><link href="/css/footer.css" rel="stylesheet"><link rel="stylesheet" href="/css/document.css" media="screen" type="text/css"><link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Pragati+Narrow" rel="stylesheet"> <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script> <script> (function(h,o,t,j,a,r){ h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)}; h._hjSettings={hjid:840051,hjsv:6}; a=o.getElementsByTagName('head')[0]; r=o.createElement('script');r.async=1; r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv; a.appendChild(r); })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv='); </script><meta name="keywords" content="opentest, javascript"></head><body><div id="menu-wrapper"><div class="container"><div class="row"><nav class="navbar main-menu" role="navigation"><div class="navbar-header"> <a class="navbar-brand" href="/"> <img src="/img/common/opentest.svg" /> OpenTest </a> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button></div><div class="collapse navbar-collapse" id="bs-navbar-collapse-1"><ul class="nav navbar-nav navbar-right scrollable-menu"><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Docs <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/docs/installation.html">Installation</a></li><li><a href="/docs/architecture.html">Architecture</a></li><li><a href="/docs/test-structure.html">Test structure</a></li><li><a href="/docs/test-action-types.html">Test action types</a></li><li><a href="/docs/test-data.html">Working with test data</a></li><li><a href="/docs/passing-data.html">Passing data between test steps</a></li><li><a href="/docs/scripting-support.html">Scripting support</a></li><li><a href="/docs/data-driven-testing.html">Data-driven testing</a></li><li><a href="/docs/environments.html">Execution environments</a></li><li><a href="/docs/session-templates.html">Test session templates</a></li><li><a href="/docs/distributed-testing.html">Distributed testing</a></li><li><a href="/docs/checkpoints.html">Checkpoints</a></li><li><a href="/docs/faq.html">FAQ</a></li></ul></li><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Reference <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/reference/selenium-keywords.html">Selenium keywords</a></li><li><a href="/reference/appium-keywords.html">Appium keywords</a></li><li><a href="/reference/generic-keywords.html">Generic keywords</a></li><li><a href="/reference/javascript-api.html">JavaScript API</a></li><li role="separator" class="divider"></li><li><a href="/reference/web-api.html">Web API</a></li><li><a href="/reference/configuration.html">Configuration</a></li><li><a href="/reference/yaml-primer.html">YAML primer</a></li></ul></li><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Tutorials <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/tutorials/selenium-testing.html">Web testing primer</a></li><li><a href="/tutorials/api-testing.html">API testing primer</a></li><li><a href="/tutorials/real-life-web-testing.html">Real life web testing (video)</a></li></ul></li><li> <a style="font-size: 1.3em" id="github-menu" href="https://github.com/mcdcorp/opentest" rel="nofollow" title="GitHub"> <i class="fab fa-github"></i> </a></li></ul></div></nav></div></div></div><div class="clearfix"></div><div class="main-content"><div class="page-content"><div class="container"><div class="row"><div class="col-md-3 hidden-sm hidden-xs" id="toc-col"><div id="docs-toc"><h3>Docs</h3><ul><li><a href="/docs/installation.html">Installation</a></li><li><a href="/docs/architecture.html">Architecture</a></li><li><a href="/docs/test-structure.html">Test structure</a></li><li><a href="/docs/test-action-types.html">Test action types</a></li><li><a href="/docs/test-data.html">Working with test data</a></li><li><a href="/docs/passing-data.html">Passing data between<br>test steps </a></li><li><a href="/docs/scripting-support.html">Scripting support</a></li><li><a href="/docs/data-driven-testing.html">Data-driven testing</a></li><li><a href="/docs/environments.html">Execution environments</a></li><li><a href="/docs/session-templates.html">Test session templates</a></li><li><a href="/docs/distributed-testing.html">Distributed testing</a></li><li><a href="/docs/checkpoints.html">Checkpoints</a></li><li><a href="/docs/faq.html">FAQ</a></li><li><a href="/docs/more.html">More...</a></li></ul><h3>Reference</h3><ul><li><a href="/reference/selenium-keywords.html">Selenium keywords</a></li><li><a href="/reference/appium-keywords.html">Appium keywords</a></li><li><a href="/reference/generic-keywords.html">Generic keywords</a></li><li><a href="/reference/javascript-api.html">JavaScript API</a></li><li><a href="/reference/web-api.html">Web API</a></li><li><a href="/reference/configuration.html">Configuration</a></li><li><a href="/reference/yaml-primer.html">YAML primer</a></li></ul><h3>Tutorials</h3><ul><li><a href="/tutorials/selenium-testing.html">Web testing</a></li><li><a href="/tutorials/api-testing.html">REST API testing</a></li><li><a href="/tutorials/real-life-web-testing.html">Real life web testing (video)</a></li></ul></div></div><div class="col-md-9" style="padding-top: 8px"><h1>Data-driven testing</h1><div class="toc-container"> <span class="toc-heading">Contents</span><ul class="sectlevel1"><li><a href="#core-concepts">Core concepts</a></li><li><a href="#using-external-data-files">Using external data files</a></li><li><a href="#working-with-csv-data">Working with CSV data</a></li></ul></div><hr><div class="sect1"><h2 id="core-concepts">Core concepts</h2><div class="sectionbody"><div class="paragraph"><p>The data-driven testing methodology consists of running the same test repeatedly using different data values with each new iteration. This has the benefit of improved test coverage with less development effort. The data-driven approach makes it very easy to add new iterations simply by adding yet another data record into the data set used by the test. The data records must be stored in a tabular-like data format where each row (record) contains one or more fields that will be referenced and used in the test.</p></div><div class="paragraph"><p>Below you have an example of a simple data-driven test whose data source (specified in the <code>dataSet</code> property) consist of three objects representing people we want to greet. The test will execute three times, once per each data record in the data set, and will log a greeting using the name stored in each record&#8217;s <code>name</code> field.</p></div><div class="listingblock"><div class="title">test-repo-path/tests/Data-driven.yaml</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Simple data-driven test</span>
<span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">dataSet</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">[</span> <span class="tok-p tok-p-Indicator">{</span><span class="tok-nv">name</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-nv">Fred</span><span class="tok-p tok-p-Indicator">},</span> <span class="tok-p tok-p-Indicator">{</span><span class="tok-nv">name</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-nv">Wilma</span><span class="tok-p tok-p-Indicator">},</span> <span class="tok-p tok-p-Indicator">{</span><span class="tok-nv">name</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-nv">Pebbles</span><span class="tok-p tok-p-Indicator">}</span> <span class="tok-p tok-p-Indicator">]</span>
<span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actors</span><span class="tok-p tok-p-Indicator">:</span>
  <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actor</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">ACTOR1</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segments</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segment</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">1</span>
        <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actions</span><span class="tok-p tok-p-Indicator">:</span>
          <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Say hello</span>
            <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
              <span class="tok-no">$log(&quot;Hello, &quot; + $dataRecord.name + &quot;!&quot;)</span></code></pre></div></div><div class="paragraph"><p>There are two important things to note about this test:</p></div><div class="ulist"><ul><li><p>The records to iterate over are passed into the test using the <code>dataSet</code> top-level property. This property is typically an array of objects. This array can be specified using the JSON syntax or any variation of the YAML syntax. For complex data sets, the data is usually read from an external data file using the <a href="/reference/javascript-api.html#data-relativepath">$data</a> syntax.</p></li><li><p>The <code>$dataRecord</code> syntax is a variable that points to the current record in the data set. The value of this variable is updated at every iteration, so every time the test starts executing it will point to the next object (record) in the data set (see more on that below).</p></li></ul></div></div></div><div class="sect1"><h2 id="using-external-data-files">Using external data files</h2><div class="sectionbody"><div class="paragraph"><p>Real-life data used for data-driven testing can get quite complex. Data sets can easily extend to hundreds of records, and each data record can have tens of fields or more. Inlining the data set as shown in the previous example can come in handy when doing quick experiments or troubleshooting issues, but is not practical most of the times. Instead, we must store the data in external files and reference those files using the <a href="/reference/javascript-api.html#data-relativepath">$data</a> syntax. Let&#8217;s see how that&#8217;s done.</p></div><div class="paragraph"><p>First, we must create a YAML data file in the <code>data</code> directory of the test repo:</p></div><div class="listingblock"><div class="title">test-repo-path/data/people.yaml</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">name</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Fred</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">age</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">36</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">employed</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">yes</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">occupation</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">crane operator</span>

<span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">name</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Wilma</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">age</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">28</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">employed</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">no</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">occupation</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">housewife</span>

<span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">name</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Pebbles</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">age</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">2</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">employed</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">no</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">occupation</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">infant</span></code></pre></div></div><div class="paragraph"><p>Now we can reference the <code>people.yaml</code> data file in our test. Just for fun, let&#8217;s also add a script action that performs a validation by checking the <code>age</code> and <code>employed</code> fields of the data record.</p></div><div class="listingblock"><div class="title">test-repo-path/tests/Data-driven.yaml</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Simple data-driven test</span>
<span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">dataSet</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$data(&quot;people&quot;)</span>
<span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actors</span><span class="tok-p tok-p-Indicator">:</span>
  <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actor</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">ACTOR1</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segments</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segment</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">1</span>
        <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actions</span><span class="tok-p tok-p-Indicator">:</span>
          <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Say hello</span>
            <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
              <span class="tok-no">$log(&quot;Hello, &quot; + $dataRecord.name + &quot;!&quot;)</span>

          <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Check minimum age of employment</span>
            <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
              <span class="tok-no">if ($dataRecord.age &lt; 14 &amp;&amp; $dataRecord.employed == &quot;yes&quot;) {</span>
                <span class="tok-no">$fail(&quot;Persons under 14 are not allowed to work!&quot;);</span>
              <span class="tok-no">}</span></code></pre></div></div></div></div><div class="sect1"><h2 id="working-with-csv-data">Working with CSV data</h2><div class="sectionbody"><div class="paragraph"><p>There&#8217;s an all too common practice in the test automation community to use Excel files for storing test data. Excel is a very powerful tool, when used properly. However, Excel&#8217;s native file format presents a fundamental issue: it&#8217;s a binary format and not a text file. If your test data is under source control (which should always be the case), whenever two people modify an Excel file at the same time, one of them is bound to lose his changes, since binary files cannot be merged automatically by source control tools. If you insist on using Excel to edit your test data, you should use the CSV format instead. OpenTest doesn&#8217;t encourage this approach, but we do agree that there are times when a tabular format is more appropriate.</p></div><div class="paragraph"><p><a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> (comma-separated values) is a plain text format that stores data records as lines of text and separates the field values for each record with commas. Here&#8217;s how our <code>people.yaml</code> data file looks like in the CSV format:</p></div><div class="listingblock"><div class="title">test-repo-path/data/people.csv</div><div class="content"><pre class="pygments highlight"><code data-lang="csv"><span></span>name,age,employed,occupation
Fred,36,yes,crane operator
Wilma,28,no,housewife
Pebbles,2,no,infant</code></pre></div></div><div class="paragraph"><p>The first row in the CSV is the "header row" and contains the names of the data fields, separated by commas. Each row after that represents a new data record that will be iterated over.</p></div><div class="paragraph"><p>To use the CSV file instead of the YAML one, it&#8217;s sufficient to include the <code>.csv</code> extension when specifying the file name:</p></div><div class="listingblock"><div class="title">test-repo-path/tests/Data-driven.yaml (fragment)</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">dataSet</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$data(&quot;people.csv&quot;)</span></code></pre></div></div><div class="paragraph"><p>OpenTest will convert the CSV data into the exact same data structure we had before: an array of objects, with each object containing all the fields (properties) defined in the CSV header row.</p></div><hr><div class="paragraph"><p>What next?</p></div><div class="ulist"><ul><li><p>Create and run a simple data-driven test:</p><div class="ulist"><ul><li><p>Go into the <code>C:\opentest\test-repo\tests</code> directory and create a file named <code>Data-driven.yaml</code>. Copy &amp; paste the contents of the first code block in this page.</p></li><li><p>Go to the OpenTest web UI, create and start a new test session to run the <code>Data-driven</code> test you just created.</p></li><li><p>Examine the test results and the log file.</p></li></ul></div></li><li><p>Modify the data-driven test you created in the previous step so that it loads its data set from an external YAML file:</p><div class="ulist"><ul><li><p>Go into the <code>C:\opentest\test-repo\data</code> directory and create a file named <code>people.yaml</code>. Copy &amp; paste the data shown in the first code block in the "Using external data files" section.</p></li><li><p>Change the <code>dataSet</code> property in your <code>Data-driven.yaml</code> test file to point to the data file you just created. The syntax is <code>dataSet: $data("people")</code>.</p></li></ul></div></li></ul></div></div></div><br><div id="disqus_thread"></div><script> (function() { var d = document, s = d.createElement('script'); s.src = 'https://getopentest.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></div></div><footer><div class="container"><div class="row"><div class="col-sm-6"> <a href="https://github.com/mcdcorp/opentest" rel="nofollow">GitHub</a>&nbsp; &nbsp;|&nbsp;&nbsp; <a href="https://github.com/mcdcorp/opentest/blob/master/LICENSE" rel="nofollow">MIT license</a> &nbsp;|&nbsp;&nbsp; <a href="https://twitter.com/OpenTestTool" rel="nofollow">Twitter</a></div><div class="col-sm-6 text-right hidden-xs"> <span>OpenTest is proudly sponsored by McDonald's™</span></div><div class="col-sm-6 visible-xs"><p style="margin: 10px 0px 0px">OpenTest is proudly sponsored by McDonald's™</p></div></div></div></footer><script src="/js/jquery-2.2.4.min.js"></script> <script src="/js/side-toc.js"></script> <script src="/js/side-menu-highlight.js"></script> <script src="/js/bootstrap.min.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-73340843-6"></script> <script defer src="/js/analytics.js"></script></body></html>
