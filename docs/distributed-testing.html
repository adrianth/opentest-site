<!DOCTYPE html><html lang=""><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Distributed testing - OpenTest</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/asciidoctor.css" rel="stylesheet"><link href="/css/italian-pop.css" rel="stylesheet"><link href="/css/pygments.css" rel="stylesheet"><link href="/css/style.css" rel="stylesheet"><link href="/css/slick.css" rel="stylesheet"><link href="/css/slick-theme.css" rel="stylesheet"><link href="/css/menu.css" rel="stylesheet"><link href="/css/home.css" rel="stylesheet"><link href="/css/footer.css" rel="stylesheet"><link rel="stylesheet" href="/css/document.css" media="screen" type="text/css"><link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Pragati+Narrow" rel="stylesheet"> <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script> <script> (function(h,o,t,j,a,r){ h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)}; h._hjSettings={hjid:840051,hjsv:6}; a=o.getElementsByTagName('head')[0]; r=o.createElement('script');r.async=1; r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv; a.appendChild(r); })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv='); </script><meta name="keywords" content="opentest, distributed, testing"> <script src="/js/jquery-2.2.4.min.js"></script></head><body><div id="menu-wrapper"><div class="container"><div class="row"><nav class="navbar main-menu" role="navigation"><div class="navbar-header"> <a class="navbar-brand" href="/"> <img src="/img/home/opentest-logo.svg" /> </a> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button></div><div class="collapse navbar-collapse" id="bs-navbar-collapse-1"><ul class="nav navbar-nav navbar-right scrollable-menu"><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Docs <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/docs/installation.html">Installation</a></li><li><a href="/docs/architecture.html">Architecture</a></li><li><a href="/docs/test-structure.html">Test structure</a></li><li><a href="/docs/test-action-types.html">Test action types</a></li><li><a href="/docs/test-repo.html">The test repository</a></li><li><a href="/docs/test-data.html">Working with test data</a></li><li><a href="/docs/passing-data.html">Passing data between test steps</a></li><li><a href="/docs/scripting-support.html">Scripting support</a></li><li><a href="/docs/data-driven-testing.html">Data-driven testing</a></li><li><a href="/docs/environments.html">Execution environments</a></li><li><a href="/docs/checkpoints.html">Checkpoints</a></li><li><a href="/docs/global-arguments.html">Global test action arguments</a></li><li><a href="/docs/distributed-testing.html">Distributed testing</a></li><li><a href="/docs/session-templates.html">Test session templates</a></li><li><a href="/docs/faq.html">FAQ</a></li></ul></li><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Reference <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/reference/selenium-keywords.html">Selenium keywords</a></li><li><a href="/reference/appium-keywords.html">Appium keywords</a></li><li><a href="/reference/generic-keywords.html">Generic keywords</a></li><li><a href="/reference/javascript-api.html">JavaScript API</a></li><li role="separator" class="divider"></li><li><a href="/reference/web-api.html">Web API</a></li><li><a href="/reference/configuration.html">Configuration</a></li><li><a href="/reference/yaml-primer.html">YAML primer</a></li></ul></li><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Tutorials <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/tutorials/selenium-testing.html">Web testing primer (video)</a></li><li><a href="/tutorials/api-testing.html">API testing primer</a></li><li><a href="/tutorials/real-life-web-testing.html">Real life web testing (video)</a></li><li><a href="/tutorials/custom-keywords.html">Creating custom keywords (video)</a></li></ul></li><li> <a style="font-size: 1.3em" id="github-menu" href="https://github.com/mcdcorp/opentest" rel="nofollow" title="GitHub"> <i class="fab fa-github"></i> </a></li></ul></div></nav></div></div></div><div class="clearfix"></div><div class="main-content"><div class="page-content"><div class="container"><div class="row"><div class="col-md-3 hidden-sm hidden-xs" id="toc-col"><div id="docs-toc"><h3>Docs</h3><ul><li><a href="/docs/installation.html">Installation</a></li><li><a href="/docs/architecture.html">Architecture</a></li><li><a href="/docs/test-structure.html">Test structure</a></li><li><a href="/docs/test-action-types.html">Test action types</a></li><li><a href="/docs/test-repo.html">The test repository</a></li><li><a href="/docs/test-data.html">Working with test data</a></li><li><a href="/docs/passing-data.html">Passing data between<br>test steps </a></li><li><a href="/docs/scripting-support.html">Scripting support</a></li><li><a href="/docs/data-driven-testing.html">Data-driven testing</a></li><li><a href="/docs/environments.html">Execution environments</a></li><li><a href="/docs/checkpoints.html">Checkpoints</a></li><li><a href="/docs/global-arguments.html">Global test action arguments</a></li><li><a href="/docs/distributed-testing.html">Distributed testing</a></li><li><a href="/docs/session-templates.html">Test session templates</a></li><li><a href="/docs/faq.html">FAQ</a></li><li><a href="/docs/more.html">More...</a></li></ul><h3>Reference</h3><ul><li><a href="/reference/selenium-keywords.html">Selenium keywords</a></li><li><a href="/reference/appium-keywords.html">Appium keywords</a></li><li><a href="/reference/generic-keywords.html">Generic keywords</a></li><li><a href="/reference/javascript-api.html">JavaScript API</a></li><li><a href="/reference/web-api.html">Web API</a></li><li><a href="/reference/configuration.html">Configuration</a></li><li><a href="/reference/yaml-primer.html">YAML primer</a></li></ul><h3>Tutorials</h3><ul><li><a href="/tutorials/selenium-testing.html">Web testing (video)</a></li><li><a href="/tutorials/api-testing.html">REST API testing</a></li><li><a href="/tutorials/real-life-web-testing.html">Real life web testing (video)</a></li><li><a href="/tutorials/custom-keywords.html">Creating custom keywords (video)</a></li></ul></div></div><div class="col-md-9" style="padding-top: 8px"><h1>Distributed testing</h1><div class="toc-container"> <span class="toc-heading">Contents</span><ul class="sectlevel1"><li><a href="#overview">Overview</a></li><li><a href="#test-actors-setup">Test actors setup</a></li><li><a href="#distributed-test-syntax">Distributed test syntax</a></li><li><a href="#sharing-data-between-test-actors">Sharing data between test actors</a></li></ul></div><hr><div class="sect1"><h2 id="overview">Overview</h2><div class="sectionbody"><div class="paragraph"><p>Most automated tests execute on a single machine and only ever interact with a single web browser window, mobile app or back-end service. That&#8217;s perfectly fine, since we should always aim to keep our tests simple and with as few dependencies as possible. There are also times when your test scenario will need to execute individual steps on two or more machines, either sequentially or in parallel. This scenario calls for building a distributed test. OpenTest has very good support for building distributed tests, this being one of the early design goals of the tool.</p></div><div class="paragraph"><p>The typical challenges when doing distributed testing are:</p></div><div class="ulist"><ul><li><p>Controlling which test steps execute on each particular machine.</p></li><li><p>Synchronizing the execution of test steps to ensure they run in the correct sequence between the multiple machines.</p></li><li><p>Sharing dynamically generated data across machines.</p></li></ul></div><div class="paragraph"><p>OpenTest answers these challenges in a way that allows test engineers to focus on the logic and flow of the test, rather than the complexities of distributed testing.</p></div></div></div><div class="sect1"><h2 id="test-actors-setup">Test actors setup</h2><div class="sectionbody"><div class="paragraph"><p>A distributed test involves at least two test actors. The actors typically run on different machines but you may also run all actors on a single machine. This is convenient because it means the same test can be run unchanged in both a dev environment where everything runs on the same machine, as well as in a staging, performance testing or production environment where individual software components are deployed on separate machines.</p></div><div class="paragraph"><p>The diagram below shows the more complex scenario, where the OpenTest server and the two test actors run on three separate machines:</p></div><div class="row"><div class="col-sm-1"></div><div class="col-sm-8"><p> <img src="/img/distributed/distributed-testing.png" /></p></div><div class="col-sm-3"></div></div><div class="paragraph"><p>This is how the configuration files for the two test actors should look like:</p></div><div class="listingblock"><div class="title">MACHINE 2, C:\opentest\actor1\actor.yaml</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actorType</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">ACTOR1</span>
<span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">syncServerUrl</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">http://10.0.0.1:3000</span>

<span class="tok-c1"># continue with other parameters here</span></code></pre></div></div><div class="listingblock"><div class="title">MACHINE 3, C:\opentest\actor2\actor.yaml</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actorType</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">ACTOR2</span>
<span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">syncServerUrl</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">http://10.0.0.1:3000</span>

<span class="tok-c1"># continue with other parameters here</span></code></pre></div></div><div class="paragraph"><p>The two most important configuration parameters we need to set in the <code>actor.yaml</code> configuration file for each test actor are:</p></div><div class="ulist"><ul><li><p><code>actorType</code>, which indicates the role the actor will play in the test.</p></li><li><p><code>syncServerUrl</code>, which indicates the endpoint that the OpenTest server is listening at, so the test actor knows how to communicate with the server.</p></li></ul></div></div></div><div class="sect1"><h2 id="distributed-test-syntax">Distributed test syntax</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s consider a very simple distributed test involving the two test actors described in the previous section:</p></div><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">A simple distributed test</span>
<span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actors</span><span class="tok-p tok-p-Indicator">:</span>
  <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actor</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">ACTOR1</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segments</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segment</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">1</span>
        <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actions</span><span class="tok-p tok-p-Indicator">:</span>
          <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$log(&quot;This runs first, since it&#39;s included in segment 1&quot;)</span>

  <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actor</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">ACTOR2</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segments</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segment</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">2</span>
        <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actions</span><span class="tok-p tok-p-Indicator">:</span>
          <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$log(&quot;This runs second, as it&#39;s included in segment 2&quot;)</span></code></pre></div></div><div class="paragraph"><p>Here are a few important observations about this distributed test:</p></div><div class="ulist"><ul><li><p>For the test to start executing, it requires one test actor of type <code>ACTOR1</code> and one test actor of type <code>ACTOR2</code>.</p></li><li><p>The test contains two segments: segment 1 and segment 2.Test segments execute sequentially, so the test actions in segment 2 will only execute after segment 1 was completed.</p></li><li><p><code>ACTOR1</code> is only involved in segment 1 and <code>ACTOR2</code> is only involved in segment 2. Any actor can execute test steps in any test segment and multiple actors can execute test steps in the same segment, if necessary.</p></li></ul></div></div></div><div class="sect1"><h2 id="sharing-data-between-test-actors">Sharing data between test actors</h2><div class="sectionbody"><div class="paragraph"><p>More often than not, the test actors involved in a distributed test need to "talk" to each other in order to share various pieces of data (a dynamically generated identifier, an account activation code, etc.) The proper way to share this data is by using the shared data store.</p></div><div class="paragraph"><p>Below you can find an example of a simple distributed test that uses the shared data feature. The first test actor creates a random number in a script block and writes its value in shared data under the name <code>someRandomNumber</code>. The second test actor reads this value, and outputs it to the test session log.</p></div><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">A simple distributed test</span>
<span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actors</span><span class="tok-p tok-p-Indicator">:</span>
  <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actor</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">ACTOR1</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segments</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segment</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">1</span>
        <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actions</span><span class="tok-p tok-p-Indicator">:</span>
          <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
              <span class="tok-no">var randomNumber = 1 + Math.floor(Math.random() * 100);</span>
              <span class="tok-no">$sharedData.someRandomNumber =  randomNumber;</span>

  <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actor</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">ACTOR2</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segments</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">segment</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">2</span>
        <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actions</span><span class="tok-p tok-p-Indicator">:</span>
          <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
              <span class="tok-no">$log(&quot;The random number is &quot; + $sharedData.someRandomNumber)</span></code></pre></div></div><div class="paragraph"><p>You can find more information on the shared data store <a href="/docs/passing-data.html#shared-data-shareddata">here</a>.</p></div></div></div><br><div id="disqus_thread"></div><script> (function() { var d = document, s = d.createElement('script'); s.src = 'https://getopentest.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></div></div><footer><div class="container"><div class="row"><div class="col-sm-6"> <a href="https://github.com/mcdcorp/opentest" rel="nofollow">GitHub</a>&nbsp; &nbsp;|&nbsp;&nbsp; <a href="https://github.com/mcdcorp/opentest/blob/master/LICENSE" rel="nofollow">MIT license</a> &nbsp;|&nbsp;&nbsp; <a href="https://twitter.com/OpenTestTool" rel="nofollow">Twitter</a></div><div class="col-sm-6 text-right hidden-xs"> <span>OpenTest is proudly sponsored by McDonald's™</span></div><div class="col-sm-6 visible-xs"><p style="margin: 10px 0px 0px">OpenTest is proudly sponsored by McDonald's™</p></div></div></div></footer><script src="/js/side-toc.js"></script> <script src="/js/side-menu-highlight.js"></script> <script src="/js/bootstrap.min.js"></script> <script src="/js/slick.min.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-73340843-6"></script> <script defer src="/js/analytics.js"></script></body></html>
