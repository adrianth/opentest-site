<!DOCTYPE html><html lang=""><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Test action types - OpenTest</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/asciidoctor.css" rel="stylesheet"><link href="/css/italian-pop.css" rel="stylesheet"><link href="/css/pygments.css" rel="stylesheet"><link href="/css/style.css" rel="stylesheet"><link href="/css/slick.css" rel="stylesheet"><link href="/css/menu.css" rel="stylesheet"><link href="/css/home.css" rel="stylesheet"><link href="/css/footer.css" rel="stylesheet"><link rel="stylesheet" href="/css/document.css" media="screen" type="text/css"><link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Pragati+Narrow" rel="stylesheet"> <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script><meta name="keywords" content="opentest, actions, keywords"></head><body><div id="menu-wrapper"><div class="container"><div class="row"><nav class="navbar main-menu" role="navigation"><div class="navbar-header"> <a class="navbar-brand" href="/"> <img src="/img/common/opentest.svg" /> OpenTest </a> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button></div><div class="collapse navbar-collapse" id="bs-navbar-collapse-1"><ul class="nav navbar-nav navbar-right scrollable-menu"><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Docs <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/docs/installation.html">Installation</a></li><li><a href="/docs/architecture.html">Architecture</a></li><li><a href="/docs/test-structure.html">Test structure</a></li><li><a href="/docs/test-action-types.html">Test action types</a></li><li><a href="/docs/test-data.html">Working with test data</a></li><li><a href="/docs/passing-data.html">Passing data between test steps</a></li><li><a href="/docs/data-driven-testing.html">Data-driven testing</a></li><li><a href="/docs/scripting-support.html">Scripting support</a></li></ul></li><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Reference <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/reference/selenium-keywords.html">Selenium keywords</a></li><li><a href="/reference/appium-keywords.html">Appium keywords</a></li><li><a href="/reference/generic-keywords.html">Generic keywords</a></li><li><a href="/reference/javascript-api.html">JavaScript API</a></li></ul></li><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Tutorials <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/tutorials/selenium-testing.html">Web testing</a></li><li><a href="/tutorials/appium-testing.html">Mobile testing</a></li><li><a href="/tutorials/api-testing.html">REST API testing</a></li></ul></li></ul></div></nav></div></div></div><div class="clearfix"></div><div class="main-content"><div class="page-content"><div class="container"><div class="row"><div class="col-md-3 hidden-sm hidden-xs" id="toc-col"><div id="docs-toc"><h3>Docs</h3><ul class="dropdown-menu1"><li><a href="/docs/installation.html">Installation</a></li><li><a href="/docs/architecture.html">Architecture</a></li><li><a href="/docs/test-structure.html">Test structure</a></li><li><a href="/docs/test-action-types.html">Test action types</a></li><li><a href="/docs/test-data.html">Working with test data</a></li><li><a href="/docs/passing-data.html">Passing data between<br>test steps </a></li><li><a href="/docs/data-driven-testing.html">Data-driven testing</a></li><li><a href="/docs/scripting-support.html">Scripting support</a></li></ul><h3>Reference</h3><ul class="dropdown-menu1"><li><a href="/reference/selenium-keywords.html">Selenium keywords</a></li><li><a href="/reference/appium-keywords.html">Appium keywords</a></li><li><a href="/reference/generic-keywords.html">Generic keywords</a></li><li><a href="/reference/javascript-api.html">JavaScript API</a></li></ul><h3>Tutorials</h3><ul class="dropdown-menu1"><li><a href="/tutorials/selenium-testing.html">Web testing</a></li><li><a href="/tutorials/appium-testing.html">Mobile testing</a></li><li><a href="/tutorials/api-testing.html">REST API testing</a></li></ul></div></div><div class="col-sm-9"><h1>Test action types</h1><div class="toc-container"> <span class="toc-heading">Contents</span><ul class="sectlevel1"><li><a href="#regular-actions">Regular actions</a></li><li><a href="#script-actions">Script actions</a></li><li><a href="#macro-actions">Macro actions</a></li></ul></div><hr><div class="paragraph"><p>Test actions represent atomic pieces of logic which execute a single test step (e.g. click a web UI element or make an HTTP request for an API call). In the test automation literature test actions are typically referred to as "keywords" and the corresponding test practice is called "keyword-driven" testing. Test actions execute sequentially, in the order they were specified in the test definition. Each test action can take 0 or more input arguments and may produce one or more output values that can be used in subsequent actions.</p></div><div class="paragraph"><p>There are three types of test actions: regular actions, script actions and macro actions.</p></div><div class="sect1"><h2 id="regular-actions">Regular actions</h2><div class="sectionbody"><div class="paragraph"><p>Regular test actions are provided as part of the core test framework or as part of external plugins and are implemented as Java classes that inherit from the <code>TestAction</code> base class.</p></div><div class="paragraph"><p>To call a regular test action, use the following syntax:</p></div><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Sample regular action definition</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">action</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">org.getopentest.actions.SampleAction</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">argument1</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">value1</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">argument2</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">value2</span></code></pre></div></div><div class="paragraph"><p>The three properties of a regular test action are:</p></div><div class="ulist"><ul><li><p><strong>description</strong> (optional): A human-readable description of what the action is looking to accomplish in the context of your particular test. The action description is used in logs and test execution reports, so providing a clear and accurate description makes it a lot easier to understand the execution flow and troubleshoot failed tests.</p></li><li><p><strong>action</strong>: This is the fully qualified name of the Java class that implements the test action logic (package name and class name, separated by a dot). For example, to run the <code>Click</code> action from the <code>org.getopentest.selenium</code> package, you would use <code>org.getopentest.selenium.Click</code>.</p></li><li><p><strong>args</strong> (optional): The arguments passed to the test action. While some test actions are simple enough and need no arguments (e.g. the Selenium <a href="http://localhost:4000/reference/selenium-keywords.html#switchtolastwindow">SwitchToLastWindow</a> action), most test actions require additional information in order to execute successfully, like the locator of a web UI element to click on, or the text to type in a textbox. Arguments can be simple data types like strings or numbers, but can also be complex types, like collections of name-value pairs (hash maps).</p></li></ul></div></div></div><div class="sect1"><h2 id="script-actions">Script actions</h2><div class="sectionbody"><div class="paragraph"><p>JavaScript code can be inserted anywhere in the test flow by using script actions. Just like all test actions, script actions can have a <code>description</code> property that explains what the action does. The JavaScript code to execute must be provided as a string value in the <code>script</code> property of the test action. Here&#8217;s a script action that delays execution for 2 seconds using the <code>$delay</code> function exposed by OpenTest:</p></div><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Delay execution for two seconds</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$delay(2000)</span></code></pre></div></div><div class="paragraph"><p>For non-trivial scripts, the YAML multiline syntax can be used to organize the script neatly over multiple lines. In YAML, multiline strings can be represented using the "|" (pipe) character:</p></div><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Click buttons with IDs &quot;button1&quot; to &quot;button100&quot;</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
    <span class="tok-no">for (var buttonNo = 1; buttonNo &lt;= 100; buttonNo++) {</span>
        <span class="tok-no">$runAction(&quot;org.getopentest.selenium.Click&quot;, {</span>
            <span class="tok-no">locator: { id: &quot;button&quot; + buttonNo }</span>
        <span class="tok-no">});</span>
    <span class="tok-no">}</span></code></pre></div></div></div></div><div class="sect1"><h2 id="macro-actions">Macro actions</h2><div class="sectionbody"><div class="paragraph"><p>A macro action may contain any sequence of test actions (both regular and script actions, as well as other macro actions) that is stored in a separate file and can be called from multiple tests or from multiple places in the same test. The main purpose of macro actions is roughly the same as the purpose of using subroutines in most programming languages: they help avoid code duplication and increase readability. For example, most applications require the user to log in before executing the work that is specific to a particular test case. The proper way to perform the user authentication would be to create a macro action called "Login" and then call that macro at the beginning of each test that requires authentication, using this syntax:</p></div><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">macro</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Login</span></code></pre></div></div><div class="paragraph"><p>To create the <code>Login</code> macro, add a new file named <code>Login.yaml</code> in the <code>macros</code> subdirectory of your test repo, with the following content:</p></div><div class="listingblock"><div class="title">test-repo-path/macros/Login.yaml</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Perform the steps necessary to authenticate a user</span>
<span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actions</span><span class="tok-p tok-p-Indicator">:</span>
  <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Call the authentication API</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">action</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">org.getopentest.actions.HttpRequest</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">url</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">https://some.url.here/authenticate?user=john&amp;password=mypasswd</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">verb</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">GET</span>


  <span class="tok-c1"># ... perform other necessary actions here</span></code></pre></div></div><div class="paragraph"><p>Like all test actions, macros can take arguments and can produce output values. To pass an argument to a macro action, use the same syntax as for a regular action:</p></div><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">macro</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Login</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">username</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">john_doe</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">password</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">sk67E8qL</span></code></pre></div></div><div class="paragraph"><p>To read the arguments that a macro was called with, you can use the <code>$macroArgs</code> JavaScript function (more details in the JavaScript API reference). In order to write an output value from a macro action, you can use the <code>$macroOutput</code> function. Let&#8217;s assume we have an HTTP API that we must call to authenticate to a web service, which will return a piece of JSON data that looks like this: <code>{"authToken": "kf74F43KL9gSd9dP"}</code>. The sample code below is a macro that makes use of the "username" and "password" arguments and create an output value named "authToken", containing the authetication token returned by the HTTP API. The code also makes use of some other features like the local data store, the <code>$readOutput</code> and the <code>$format</code> APIs, which will be explained later, so don&#8217;t worry if you don&#8217;t understand all the code in the snippet at this point.</p></div><div class="listingblock"><div class="title">test-repo-path/macros/Login.yaml</div><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Authenticate the user</span>
<span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">actions</span><span class="tok-p tok-p-Indicator">:</span>
  <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
      <span class="tok-no">// Build the authentication URL and store it in a variable</span>
      <span class="tok-no">var authenticationUrl = $format(</span>
        <span class="tok-no">&quot;https://some.url.here/authenticate?user={0}&amp;password={1}&quot;,</span>
        <span class="tok-no">$macroArgs(&quot;username&quot;),</span>
        <span class="tok-no">$macroArgs(&quot;password&quot;))</span>

  <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Call the authentication API</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">action</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">org.getopentest.actions.HttpRequest</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">url</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">authenticationUrl</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">verb</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">GET</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$localData</span><span class="tok-p tok-p-Indicator">:</span>
        <span class="tok-s">&quot;authToken&quot;</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$readOutput(&quot;body&quot;).authToken</span>

  <span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$macroOutput(&quot;authToken&quot;, $localData(&quot;authToken&quot;));</span></code></pre></div></div><div class="paragraph"><p>Once we have this macro, we can call it in all the tests that require authentication with the following syntax:</p></div><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">macro</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Login</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">username</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">john_doe</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">password</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">sk67E8qL</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$localData</span><span class="tok-p tok-p-Indicator">:</span>
        <span class="tok-s">&quot;authToken&quot;</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$readOutput(&quot;authToken&quot;)</span>

<span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$log(&quot;The authentication token is &quot; + $localData(&quot;authToken&quot;))</span></code></pre></div></div><div class="paragraph"><p>Writing macros usually requires slightly more advanced skills and a good understanding of the system under test, so it&#8217;s recommended that they are implemented by the more experienced members of a team. Building a solid, properly designed set of macro actions can significantly speed up test development, helps with the test suite maintenance and has a big contribution to the long-term success of any test automation effort.</p></div><hr><div class="paragraph"><p>Next: <a href="https://getopentest.org/docs/test-data.html">Storing and retrieving test data</a></p></div></div></div><br><div id="disqus_thread"></div><script> (function() { var d = document, s = d.createElement('script'); s.src = 'https://getopentest.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></div></div><footer><div class="container"><div class="row"><div class="col-sm-12"> <a href="#"><i class="fab fa-github"></i> GitHub</a>&nbsp; &nbsp;|&nbsp;&nbsp; <a href="https://github.com/mcdcorp/opentest/blob/master/LICENSE">MIT license</a></div></div></div></footer><script src="/js/jquery-2.2.4.min.js"></script> <script src="/js/side-toc.js"></script> <script src="/js/bootstrap.min.js"></script> <script src="/js/slick.min.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-73340843-6"></script> <script defer src="/js/analytics.js"></script></body></html>
