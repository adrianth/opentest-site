<!DOCTYPE html><html lang=""><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Generic keywords - OpenTest</title><link href="/css/bootstrap.min.css" rel="stylesheet"><link href="/css/asciidoctor.css" rel="stylesheet"><link href="/css/italian-pop.css" rel="stylesheet"><link href="/css/pygments.css" rel="stylesheet"><link href="/css/style.css" rel="stylesheet"><link href="/css/slick.css" rel="stylesheet"><link href="/css/menu.css" rel="stylesheet"><link href="/css/home.css" rel="stylesheet"><link href="/css/footer.css" rel="stylesheet"><link rel="stylesheet" href="/css/document.css" media="screen" type="text/css"><link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet"><link href="https://fonts.googleapis.com/css?family=Pragati+Narrow" rel="stylesheet"> <script defer src="https://use.fontawesome.com/releases/v5.0.8/js/all.js"></script><meta name="keywords" content="opentest, appium, keywords, actions"></head><body><div id="menu-wrapper"><div class="container"><div class="row"><nav class="navbar main-menu" role="navigation"><div class="navbar-header"> <a class="navbar-brand" href="/"> <img src="/img/common/opentest.svg" /> OpenTest </a> <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-navbar-collapse-1"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button></div><div class="collapse navbar-collapse" id="bs-navbar-collapse-1"><ul class="nav navbar-nav navbar-right scrollable-menu"><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Docs <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/docs/installation.html">Installation</a></li><li><a href="/docs/architecture.html">Architecture</a></li><li><a href="/docs/test-structure.html">Test structure</a></li><li><a href="/docs/test-action-types.html">Test action types</a></li><li><a href="/docs/test-data.html">Working with test data</a></li><li><a href="/docs/passing-data.html">Passing data between test steps</a></li><li><a href="/docs/scripting-support.html">Scripting support</a></li><li><a href="/docs/data-driven-testing.html">Data-driven testing</a></li><li><a href="/docs/environments.html">Execution environments</a></li><li><a href="/docs/more.html">More...</a></li></ul></li><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Reference <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/reference/selenium-keywords.html">Selenium keywords</a></li><li><a href="/reference/appium-keywords.html">Appium keywords</a></li><li><a href="/reference/generic-keywords.html">Generic keywords</a></li><li><a href="/reference/javascript-api.html">JavaScript API</a></li><li><a href="/reference/yaml-primer.html">YAML primer</a></li></ul></li><li class="dropdown"> <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="true">Tutorials <span class="caret"></span></a><ul class="dropdown-menu"><li><a href="/tutorials/selenium-testing.html">Web testing</a></li><li><a href="/tutorials/appium-testing.html">Mobile testing</a></li><li><a href="/tutorials/api-testing.html">REST API testing</a></li></ul></li></ul></div></nav></div></div></div><div class="clearfix"></div><div class="main-content"><div class="page-content"><div class="container"><div class="row"><div class="col-md-3 hidden-sm hidden-xs" id="toc-col"><div id="docs-toc"><h3>Docs</h3><ul class="dropdown-menu1"><li><a href="/docs/installation.html">Installation</a></li><li><a href="/docs/architecture.html">Architecture</a></li><li><a href="/docs/test-structure.html">Test structure</a></li><li><a href="/docs/test-action-types.html">Test action types</a></li><li><a href="/docs/test-data.html">Working with test data</a></li><li><a href="/docs/passing-data.html">Passing data between<br>test steps </a></li><li><a href="/docs/scripting-support.html">Scripting support</a></li><li><a href="/docs/data-driven-testing.html">Data-driven testing</a></li><li><a href="/docs/environments.html">Execution environments</a></li><li><a href="/docs/more.html">More...</a></li></ul><h3>Reference</h3><ul class="dropdown-menu1"><li><a href="/reference/selenium-keywords.html">Selenium keywords</a></li><li><a href="/reference/appium-keywords.html">Appium keywords</a></li><li><a href="/reference/generic-keywords.html">Generic keywords</a></li><li><a href="/reference/javascript-api.html">JavaScript API</a></li><li><a href="/reference/yaml-primer.html">YAML primer</a></li></ul><h3>Tutorials</h3><ul class="dropdown-menu1"><li><a href="/tutorials/selenium-testing.html">Web testing</a></li><li><a href="/tutorials/appium-testing.html">Mobile testing</a></li><li><a href="/tutorials/api-testing.html">REST API testing</a></li></ul></div></div><div class="col-md-9"><h1>Generic keywords</h1><div class="toc-container"> <span class="toc-heading">Contents</span><ul class="sectlevel2"><li><a href="#httprequest">HttpRequest</a></li><li><a href="#reademailimap">ReadEmailImap</a></li></ul></div><hr><div class="sect2"><h3 id="httprequest">HttpRequest</h3><div class="paragraph"><p>Executes an HTTP request to perform a REST API call, download a file from a web server, etc.</p></div><div class="paragraph"><p>Arguments:</p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 20%;"><col style="width: 80%;"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code><strong>url</strong></code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Request URL.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>verb</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">HTTP verb (method). Valid values are: <code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>, <code>HEAD</code>, <code>OPTIONS</code>, <code>PATCH</code>). Default: <code>GET</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>headers</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">HTTP headers to send with the request, as a list of key-value pairs. Default: an empty hash map.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>body</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">HTTP request payload, as a string value. This is usually provided in the form of a YAML multi-line string using the "|" (pipe) character syntax. The <a href="/reference/javascript-api.html#json-objvalue">$json</a> JavaScript API is very often used to produce JSON content out of a JavaScript object syntax (see example below).</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>successStatusCode</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The HTTP status code that is expected in the response. The HttpRequest action will fail if a different status code is received. Default: null.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>contentType</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The content type of the payload. This value will be used as the <code>Content-Type</code> HTTP header. Alternatively, this can also be provided in the <code>headers</code> argument. Default: <code>text/plain</code>.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>outputFile</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The full path to a file that the response body will be written to. This is particularly useful for downloading files. Default: null.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>ignoreCert</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Boolean flag that instructs the HTTP client to ignore the web server certificate. Useful when working with servers that are using self-signed certificates. This can also be provided in the test actor&#8217;s configuration file, so that it&#8217;s not repeated for each and every HTTP request. Default: false.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>proxy</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">HTTP proxy server. Both the server name (or IP address) and port number can be specified, separated by ":" (e.g. <code>localhost:8888</code>). This can also be provided as the <code>api.httpProxy</code> parameter in the test actor’s configuration file, so that it’s not repeated for each and every HTTP request. Default: null.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>parseBody</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Determines whether the response payload should be parsed from JSON automatically, to make it easier to access its properties in subsequent steps. The payload will only be parsed if its content type is <code>*/json</code>. Default: true.</p></td></tr></tbody></table><div class="paragraph"><p>Output values:</p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 20%;"><col style="width: 80%;"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>statusCode</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">HTTP response status code.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>headers</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">HTTP response headers, returned as a hash map.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>body</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">HTTP response payload. If the response content type is <code>*/json</code>, the payload will automatically be parsed and returned as a JavaScript object.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>durationMs</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The time interval between sending the HTTP request and receiving the response, in milliseconds.</p></td></tr></tbody></table><div class="paragraph"><p>Example:</p></div><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Create a new blog post</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">action</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">org.getopentest.actions.HttpRequest</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$localData</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">postInfo</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$readOutput(&#39;body&#39;)</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">url</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">https://jsonplaceholder.typicode.com/posts</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">headers</span><span class="tok-p tok-p-Indicator">:</span>
      <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Content-Type</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">application/json</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">verb</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">POST</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">body</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
      <span class="tok-no">$json(</span>
        <span class="tok-no">{</span>
          <span class="tok-no">id: 123,</span>
          <span class="tok-no">title: &quot;My fist post&quot;,</span>
          <span class="tok-no">updated: Date.now()</span>
        <span class="tok-no">}</span>
      <span class="tok-no">)</span>

<span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Validate post ID</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
    <span class="tok-no">if ($localData(&quot;postInfo&quot;).id != 123) {</span>
      <span class="tok-no">$fail($format(</span>
        <span class="tok-no">&quot;We expected the post ID to be {0} but it was {1}&quot;,</span>
        <span class="tok-no">123,</span>
        <span class="tok-no">$localData(&quot;postInfo&quot;).id));</span>
    <span class="tok-no">}</span>

<span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Validate post title</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
    <span class="tok-no">if ($localData(&quot;postInfo&quot;).title != &quot;My fist post&quot;) {</span>
      <span class="tok-no">$fail($format(</span>
        <span class="tok-no">&quot;We expected the post title to be &#39;{0}&#39; but it was &#39;{1}&#39;&quot;,</span>
        <span class="tok-no">&quot;My fist post&quot;,</span>
        <span class="tok-no">$localData(&quot;postInfo&quot;).title));</span>
    <span class="tok-no">}</span></code></pre></div></div></div><div class="sect2"><h3 id="reademailimap">ReadEmailImap</h3><div class="paragraph"><p>Reads email messages from an IMAP server.</p></div><div class="paragraph"><p>Arguments:</p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 20%;"><col style="width: 80%;"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>server</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">IMAP server, by IP or DNS name</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>port</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Port number to connect on. Default: 143.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>userName</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The user name to authenticate with.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>password</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The password to authenticate with.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>subjectContains</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">A substring to look for in the message subject. Only messages matching this filter will be retrieved. Default: null.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>subjectRegex</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">A regular expression that the message subject needs to match.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>bodyContains</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">A substring to look for in the message body.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>bodyRegex</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">A regular expression that the message body needs to match.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>from</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The email address the message was received from. Only messages matching this filter will be retrieved.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>sentAfter</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">Checks that the sent date of the message is after the specified date. The date has to be in the format <code>YYYY-MM-DD HH:MM:SS</code> Only messages matching this filter will be retrieved.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxResults</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The maximum number of email messages to retrieve. Default: 1.</p></td></tr><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>minResults</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">The minimum number of email messages to retrieve. Default: 1.</p></td></tr></tbody></table><div class="paragraph"><p>Output values:</p></div><table class="tableblock frame-all grid-all spread"><colgroup><col style="width: 20%;"><col style="width: 80%;"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><p class="tableblock"><code>emails</code></p></td><td class="tableblock halign-left valign-top"><p class="tableblock">An array of objects representing the email messages retrieved from the IMAP server, sorted by the received date in inverse chronological order (the most recent message is the first element in the array). Each object in the array will have the following properties: <code>subject</code>, <code>body</code>, <code>from</code>, <code>to</code>, <code>sentDate</code>, <code>headers</code>.</p></td></tr></tbody></table><div class="paragraph"><p>Example:</p></div><div class="listingblock"><div class="content"><pre class="pygments highlight"><code data-lang="yaml"><span></span><span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">description</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">Your action description here</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">action</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">org.getopentest.actions.ReadEmailImap</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">args</span><span class="tok-p tok-p-Indicator">:</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">server</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">imap.gmail.com</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">userName</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">john.doe@gmail.com</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">password</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">slybxdfrgaywnlrd</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">subjectContains</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">verify email</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">maxResults</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">10</span>
  <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$localData</span><span class="tok-p tok-p-Indicator">:</span>
    <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">emails</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">$readOutput(&quot;emails&quot;)</span>

<span class="tok-p tok-p-Indicator">-</span> <span class="tok-l tok-l-Scalar tok-l-Scalar-Plain">script</span><span class="tok-p tok-p-Indicator">:</span> <span class="tok-p tok-p-Indicator">|</span>
    <span class="tok-no">var emails = $localData(&quot;emails&quot;)</span>
    <span class="tok-no">$log(&quot;We retrieved &quot; + emails.length + &quot; emails&quot;);</span>
    <span class="tok-no">$log(&quot;The subject of the first email is &quot; + emails[0].subject);</span></code></pre></div></div></div><br><div id="disqus_thread"></div><script> (function() { var d = document, s = d.createElement('script'); s.src = 'https://getopentest.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div></div></div></div></div><footer><div class="container"><div class="row"><div class="col-sm-12"> <a href="#"><i class="fab fa-github"></i> GitHub</a>&nbsp; &nbsp;|&nbsp;&nbsp; <a href="https://github.com/mcdcorp/opentest/blob/master/LICENSE">MIT license</a></div></div></div></footer><script src="/js/jquery-2.2.4.min.js"></script> <script src="/js/side-toc.js"></script> <script src="/js/bootstrap.min.js"></script> <script src="/js/slick.min.js"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-73340843-6"></script> <script defer src="/js/analytics.js"></script></body></html>
